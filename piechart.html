<html>
    <head>
    </head>
    <body>
       <p>This is a pie chart by Neo</p>
       <script src="http://d3js.org/d3.v4.min.js"></script>
       <script>
           var width = 360
           var height = 360
           var radius = 100
            var color = d3.scaleOrdinal(["#98abc5", "#8a89a6","#7b6888", "#6b486b", "#a05d56", "#d0743c", "#ff8c00"])
        //    var color = d3.scaleOrdinal(d3.schemeCategory20b)
           var svg = d3.select("body")
               .append("svg")
               .attr("width",width)
               .attr("height",height)
               .append("g")
               .attr("transform","translate("+width/2+","+height/2+")")

           d3.csv("population.csv",function(error,csvdata){
               if(error){
                   throw error
               }
               
           var pie = d3.pie()
                   .value(function(d){
                       return d.population
                    })(csvdata)

           var arc = d3.arc()
               .innerRadius(0)
               .outerRadius(radius-10)
           
           var labelArc = d3.arc()
               .innerRadius(radius-40)
               .outerRadius(radius-40)
            
           var g = svg.selectAll("g")
               .data(pie)
               .enter()
               .append("g")
                
               g.append("path")
               .attr("d", function(d){
                 return arc(d)
               })
               .attr("fill",function(d,i){
                 return color(i)
               })
               .on("mouseenter",function(d){

               })
               .on("mouseleave",function(d){
                   
               })
               g.append("text")
                .attr("transform", function(d) { 
                 return "translate("+arc.centroid(d)+")"
                })
                .attr("text-anchor", "middle")
                .text(function(d) { return d.data.age })
               
               

           

           
           })              
 
       </script>
    </body>
</html>